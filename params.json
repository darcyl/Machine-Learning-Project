{"name":"Machine-learning-project","tagline":"","body":"@@ -0,0 +1,253 @@\r\n<!DOCTYPE html>\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\r\n<head>\r\n\r\n<meta charset=\"utf-8\">\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<meta name=\"generator\" content=\"pandoc\" />\r\n\r\n<meta name=\"author\" content=\"Darcy Lewis\" />\r\n\r\n\r\n<title>Machine Learning Project</title>\r\n\r\n<script src=\"data:application/x-javascript,%2F%2A%21%20jQuery%20v1%2E11%2E0%20%7C%20%28c%29%202005%2C%202014%20jQuery%20Foundation%2C%20Inc%2E%20%7C%20jquery%2Eorg%2Flicense%20%2A%2F%0A%21function%28a%2Cb%29%7B%22object%22%3D%3Dtypeof%20module%26%26%22object%22%3D%3Dtypeof%20module%2Eexports%3Fmodule%2Eexports%3Da%2Edocument%3Fb%28a%2C%210%29%3Afunction%28a%29%7Bif%28%21a%2Edocument%29throw%20new%20Error%28%22jQuery%20requires%20a%20window%20with%20a%20document%22%29%3Breturn%20b%28a%29%7D%3Ab%28a%29%7D%28%...(line truncated)...\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n<link href=\"data:text/css,%2F%2A%21%0A%20%2A%20Bootstrap%20v3%2E3%2E1%20%28http%3A%2F%2Fgetbootstrap%2Ecom%29%0A%20%2A%20Copyright%202011%2D2014%20Twitter%2C%20Inc%2E%0A%20%2A%20Licensed%20under%20MIT%20%28https%3A%2F%2Fgithub%2Ecom%2Ftwbs%2Fbootstrap%2Fblob%2Fmaster%2FLICENSE%29%0A%20%2A%2F%2F%2A%21%20normalize%2Ecss%20v3%2E0%2E2%20%7C%20MIT%20License%20%7C%20git%2Eio%2Fnormalize%20%2A%2Fhtml%7Bfont%2Dfamily%3Asans%2Dserif%3B%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A100%25%3B%2Dms%2Dtext%2Dsize%2Dadjust%3A100%25%...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%21%0A%20%2A%20Bootstrap%20v3%2E3%2E1%20%28http%3A%2F%2Fgetbootstrap%2Ecom%29%0A%20%2A%20Copyright%202011%2D2014%20Twitter%2C%20Inc%2E%0A%20%2A%20Licensed%20under%20MIT%20%28https%3A%2F%2Fgithub%2Ecom%2Ftwbs%2Fbootstrap%2Fblob%2Fmaster%2FLICENSE%29%0A%20%2A%2F%0Aif%28%22undefined%22%3D%3Dtypeof%20jQuery%29throw%20new%20Error%28%22Bootstrap%27s%20JavaScript%20requires%20jQuery%22%29%3B%2Bfunction%28a%29%7Bvar%20b%3Da%2Efn%2Ejquery%2Esplit%28%22%20%22%29%5B0%5D...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%2A%0A%2A%20%40preserve%20HTML5%20Shiv%203%2E7%2E2%20%7C%20%40afarkas%20%40jdalton%20%40jon%5Fneal%20%40rem%20%7C%20MIT%2FGPL2%20Licensed%0A%2A%2F%0A%2F%2F%20Only%20run%20this%20code%20in%20IE%208%0Aif%20%28%21%21window%2Enavigator%2EuserAgent%2Ematch%28%22MSIE%208%22%29%29%20%7B%0A%21function%28a%2Cb%29%7Bfunction%20c%28a%2Cb%29%7Bvar%20c%3Da%2EcreateElement%28%22p%22%29%2Cd%3Da%2EgetElementsByTagName%28%22head%22%29%5B0%5D%7C%7Ca%2EdocumentElement%3Breturn%...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%21%20Respond%2Ejs%20v1%2E4%2E2%3A%20min%2Fmax%2Dwidth%20media%20query%20polyfill%20%2A%20Copyright%202013%20Scott%20Jehl%0A%20%2A%20Licensed%20under%20https%3A%2F%2Fgithub%2Ecom%2Fscottjehl%2FRespond%2Fblob%2Fmaster%2FLICENSE%2DMIT%0A%20%2A%20%20%2A%2F%0A%0Aif%20%28%21%21window%2Enavigator%2EuserAgent%2Ematch%28%22MSIE%208%22%29%29%20%7B%0A%21function%28a%29%7B%22use%20strict%22%3Ba%2EmatchMedia%3Da%2EmatchMedia%7C%7Cfunction%28a%29%7Bvar%20b%2Cc%3Da%2Edocum...(line truncated)...\r\n\r\n<style type=\"text/css\">code{white-space: pre;}</style>\r\n<link href=\"data:text/css,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0A%20color%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0A%0Apre%20%2Eliteral%20%7B%0A%20color%3A%20%23990073%0A%7D%0A%0Apre%20%2Enumber%20%7B%0A%20color%3A%20%23099%3B%0A%7D%0A%0Apre%20%2Ecomment%20%7B%0A%20color%3A%20%23998%3B%0A%20font%2Dstyle%3A%20italic%0A%7D%0A%0Apre%20%2Ekeyword%20%7B%0A%20color%3A%20%23900%3B%0A%20font%2Dweight%3A%20bold%0A%7D%0A%0Apre%20%2Eidentifier%20%7B%0A%20color%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0A%0Apre%2...(line truncated)...\r\n<script src=\"data:application/x-javascript,%0Avar%20hljs%3Dnew%20function%28%29%7Bfunction%20m%28p%29%7Breturn%20p%2Ereplace%28%2F%26%2Fgm%2C%22%26amp%3B%22%29%2Ereplace%28%2F%3C%2Fgm%2C%22%26lt%3B%22%29%7Dfunction%20f%28r%2Cq%2Cp%29%7Breturn%20RegExp%28q%2C%22m%22%2B%28r%2EcI%3F%22i%22%3A%22%22%29%2B%28p%3F%22g%22%3A%22%22%29%29%7Dfunction%20b%28r%29%7Bfor%28var%20p%3D0%3Bp%3Cr%2EchildNodes%2Elength%3Bp%2B%2B%29%7Bvar%20q%3Dr%2EchildNodes%5Bp%5D%3Bif%28q%2EnodeName%3D%3D%22CODE%22%29%7Breturn%20q%7Dif%28%2...(line truncated)...\r\n<style type=\"text/css\">\r\n  pre:not([class]) {\r\n    background-color: white;\r\n  }\r\n</style>\r\n<script type=\"text/javascript\">\r\nif (window.hljs && document.readyState && document.readyState === \"complete\") {\r\n   window.setTimeout(function() {\r\n      hljs.initHighlighting();\r\n   }, 0);\r\n}\r\n</script>\r\n\r\n\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n<style type=\"text/css\">\r\n.main-container {\r\n  max-width: 940px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\ncode {\r\n  color: inherit;\r\n  background-color: rgba(0, 0, 0, 0.04);\r\n}\r\nimg { \r\n  max-width:100%; \r\n  height: auto; \r\n}\r\n</style>\r\n<div class=\"container-fluid main-container\">\r\n\r\n\r\n<div id=\"header\">\r\n<h1 class=\"title\">Machine Learning Project</h1>\r\n<h4 class=\"author\"><em>Darcy Lewis</em></h4>\r\n<h4 class=\"date\"><em>June 5, 2015</em></h4>\r\n</div>\r\n\r\n\r\n<div id=\"overview\" class=\"section level1\">\r\n<h1>Overview</h1>\r\n<p>Objective of this analysis is to build a model which can predict the manner (A, B, C, D or E) in which the individuals performed bar bell lifts, given data recorded by accelerometers attached to the individuals.</p>\r\n<p>The variable “classe”&quot; in the data set correctly documents the manner in which the lift was performed.</p>\r\n<p>Model Build Choices:</p>\r\n<ol style=\"list-style-type: decimal\">\r\n<li>Pre-Processing &amp; Predictor Elimination With 159 possible predictors, wanted to reduce the number of predictors to those most likely prior to attempting to find a model to predict the outcome. The steps to identifing good predictors took the field from 159 down to 14.<br /></li>\r\n</ol>\r\n<ul>\r\n<li>used only numeric fields; 56 predictors remaining<br /></li>\r\n<li>removed those columns which were contextual such as datetime stamps and row numbers; 52 predictors remaining<br /></li>\r\n<li>removed near zero columns (after replacing NAs with 0, replacing missing values with zero and centering and scaling the data); 26 predictors remaining</li>\r\n<li>removed highly correlated predictors (&gt;75%); 24 predictors remaining</li>\r\n<li>looked for predictors which were linear combinations of oneanother, but none were found<br />Note: centering and scaling was necessary as data valuess in various predictors ranged from fractions to values in the low hundreds</li>\r\n</ul>\r\n<ol start=\"2\" style=\"list-style-type: decimal\">\r\n<li>Selecting a Model</li>\r\n</ol>\r\n<ul>\r\n<li>linear regression was not an option as the outcome variable had 5 possible values<br /></li>\r\n<li>decision trees allow for more than two possible outcomes, but 40% accuracy just on the training data<br /></li>\r\n<li>random forest resulted in 100% accuracy on the training data and &lt;5% out of sample error rate.</li>\r\n</ul>\r\n<div id=\"setup-environment\" class=\"section level2\">\r\n<h2>1 Setup Environment</h2>\r\n<pre class=\"r\"><code>library(caret)</code></pre>\r\n<pre><code>## Loading required package: lattice\r\n## Loading required package: ggplot2</code></pre>\r\n<pre class=\"r\"><code>library(ggplot2)\r\nlibrary(rpart)</code></pre>\r\n</div>\r\n<div id=\"import-training-data\" class=\"section level2\">\r\n<h2>2 Import Training Data</h2>\r\n<pre class=\"r\"><code>setwd(&quot;C:/Users/Darcy/Documents/Coursera/Machine Learning&quot;)\r\n#fileUrl&lt;-&quot;https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv&quot;\r\n#download.file(fileUrl,destfile=&quot;.&quot;,method=&quot;curl&quot;)\r\npml_data&lt;-read.csv(&quot;pml-training.csv&quot;)</code></pre>\r\n</div>\r\n<div id=\"prepare-for-cross-validation\" class=\"section level2\">\r\n<h2>3 Prepare for Cross Validation</h2>\r\n<pre class=\"r\"><code>##Partition the training data into training and test (80/20 ratio) data sets \r\nset.seed(1234)\r\ninTrain&lt;-createDataPartition(y=pml_data$classe,p=0.8,list=FALSE)\r\ntraining&lt;-pml_data[inTrain,]\r\ntesting&lt;-pml_data[-inTrain,]</code></pre>\r\n</div>\r\n<div id=\"pre-processing-predictor-elimination\" class=\"section level2\">\r\n<h2>4 Pre-Processing &amp; Predictor Elimination</h2>\r\n<pre class=\"r\"><code>##create data frame of just the potential numeric predictors\r\nNumericPredictors &lt;- sapply(training, is.numeric)\r\ntrainingPredictors&lt;-training[ , NumericPredictors]\r\n\r\n##Remove the 1st 4 columns containing contextual data\r\ntrainingPredictors &lt;- trainingPredictors[,5:56]    \r\n\r\n##replace NA values with 0\r\ntrainingPredictors[is.na(trainingPredictors)]&lt;-0\r\n\r\n##center and scale the data\r\npreProcValues &lt;- preProcess(trainingPredictors, method = c(&quot;center&quot;, &quot;scale&quot;))\r\ntrainingNorm &lt;- predict(preProcValues, trainingPredictors)\r\n\r\n#remove near zero columns from the training dataset after replacing NA values with 0 to create dataframe of NonZero (NZ) predictors\r\nnzv &lt;- nearZeroVar(trainingNorm)\r\ntrainingNZ &lt;- trainingNorm[, -nzv]\r\n\r\n##remove highly correlated predictors\r\nCorTrainingMatrix&lt;-cor(trainingNZ)\r\nhighlyCorPredictors &lt;- findCorrelation(CorTrainingMatrix, cutoff = 3/4)\r\ntrainingRelevant &lt;- trainingNZ[,-highlyCorPredictors]\r\n\r\n##append outcome variable back into final dataset to be modeled, i.e. trainingClean\r\nclasse&lt;-training$classe\r\ntrainingClean&lt;-cbind(trainingRelevant,classe)</code></pre>\r\n</div>\r\n<div id=\"create-an-accurate-predictive-model\" class=\"section level2\">\r\n<h2>Create an Accurate Predictive Model</h2>\r\n<pre class=\"r\"><code>##After trying several models, random forest gave by far the best results\r\nmodelFit&lt;-train(classe~.,method=&quot;rf&quot;,data=trainingClean,prox=TRUE)</code></pre>\r\n<pre><code>## Loading required package: randomForest\r\n## randomForest 4.6-10\r\n## Type rfNews() to see new features/changes/bug fixes.</code></pre>\r\n<pre class=\"r\"><code>confusionMatrix(trainingClean$classe,predict(modelFit,trainingClean))</code></pre>\r\n<pre><code>## Confusion Matrix and Statistics\r\n## \r\n##           Reference\r\n## Prediction    A    B    C    D    E\r\n##          A 4464    0    0    0    0\r\n##          B    0 3038    0    0    0\r\n##          C    0    0 2738    0    0\r\n##          D    0    0    0 2573    0\r\n##          E    0    0    0    0 2886\r\n## \r\n## Overall Statistics\r\n##                                      \r\n##                Accuracy : 1          \r\n##                  95% CI : (0.9998, 1)\r\n##     No Information Rate : 0.2843     \r\n##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16  \r\n##                                      \r\n##                   Kappa : 1          \r\n##  Mcnemar's Test P-Value : NA         \r\n## \r\n## Statistics by Class:\r\n## \r\n##                      Class: A Class: B Class: C Class: D Class: E\r\n## Sensitivity            1.0000   1.0000   1.0000   1.0000   1.0000\r\n## Specificity            1.0000   1.0000   1.0000   1.0000   1.0000\r\n## Pos Pred Value         1.0000   1.0000   1.0000   1.0000   1.0000\r\n## Neg Pred Value         1.0000   1.0000   1.0000   1.0000   1.0000\r\n## Prevalence             0.2843   0.1935   0.1744   0.1639   0.1838\r\n## Detection Rate         0.2843   0.1935   0.1744   0.1639   0.1838\r\n## Detection Prevalence   0.2843   0.1935   0.1744   0.1639   0.1838\r\n## Balanced Accuracy      1.0000   1.0000   1.0000   1.0000   1.0000</code></pre>\r\n</div>\r\n<div id=\"pre-process-and-apply-the-model-to-test-partition\" class=\"section level2\">\r\n<h2>Pre-process and Apply the Model to Test Partition</h2>\r\n<pre class=\"r\"><code>##preprocess testing data using training data\r\ntestingPredictors&lt;-subset(testing,select=colnames(trainingPredictors))\r\ntestingPredictors[is.na(testingPredictors)]&lt;-0\r\ntestingNorm &lt;- predict(preProcValues, testingPredictors)\r\nclasse&lt;-testing$classe\r\ntestingNorm&lt;-cbind(testingNorm,classe)\r\ntestingClean&lt;-subset(testingNorm,select=colnames(trainingClean))\r\n##apply the model to the testing partion\r\nconfusionMatrix(testingClean$classe,predict(modelFit,testingClean))</code></pre>\r\n<pre><code>## Confusion Matrix and Statistics\r\n## \r\n##           Reference\r\n## Prediction    A    B    C    D    E\r\n##          A 1078   12   14   11    1\r\n##          B   13  712   18   12    4\r\n##          C    7   32  631   12    2\r\n##          D    4    5   19  614    1\r\n##          E    0    9   10    6  696\r\n## \r\n## Overall Statistics\r\n##                                           \r\n##                Accuracy : 0.9511          \r\n##                  95% CI : (0.9438, 0.9576)\r\n##     No Information Rate : 0.2809          \r\n##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       \r\n##                                           \r\n##                   Kappa : 0.9381          \r\n##  Mcnemar's Test P-Value : 0.003946        \r\n## \r\n## Statistics by Class:\r\n## \r\n##                      Class: A Class: B Class: C Class: D Class: E\r\n## Sensitivity            0.9782   0.9247   0.9118   0.9374   0.9886\r\n## Specificity            0.9865   0.9851   0.9836   0.9911   0.9922\r\n## Pos Pred Value         0.9659   0.9381   0.9225   0.9549   0.9653\r\n## Neg Pred Value         0.9914   0.9817   0.9812   0.9875   0.9975\r\n## Prevalence             0.2809   0.1963   0.1764   0.1670   0.1795\r\n## Detection Rate         0.2748   0.1815   0.1608   0.1565   0.1774\r\n## Detection Prevalence   0.2845   0.1935   0.1744   0.1639   0.1838\r\n## Balanced Accuracy      0.9824   0.9549   0.9477   0.9643   0.9904</code></pre>\r\n</div>\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<script>\r\n\r\n// add bootstrap table styles to pandoc tables\r\n$(document).ready(function () {\r\n  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');\r\n});\r\n\r\n</script>\r\n\r\n<!-- dynamically load mathjax for compatibility with self-contained -->\r\n<script>\r\n  (function () {\r\n    var script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src  = \"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\";\r\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n  })();\r\n</script>\r\n\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}